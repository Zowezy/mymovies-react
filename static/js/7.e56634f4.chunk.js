(this["webpackJsonpmy-movies"]=this["webpackJsonpmy-movies"]||[]).push([[7],{137:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(50);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var c=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var n,a,i=[],r=!0,s=!1;try{for(c=c.call(e);!(r=(n=c.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(o){s=!0,a=o}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return i}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},149:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(137),i=c(1),r=c.n(i),s=c(8),o=c(18),l=c(70),u=c(71);var b=c(55),j=c(58),d=c(23),m=c(3),f=r.a.memo((function(e){var t=e.items,c=e.getFilter,n=e.sections,r=e.addSection,s=e.removeSection,o=Object(i.useState)(!1),l=Object(a.a)(o,2),u=l[0],b=l[1],j=Object(i.useRef)(),f=function(e){(e.path||e.composedPath&&e.composedPath()||e.composedPath(e.target)).includes(j.current)||b(!1)},O=function(e){var t=!1;return n.map((function(c){return c===e&&(t=!0),null})),t};return Object(i.useEffect)((function(){return t&&0===t.length&&c(),console.log(t),document.body.addEventListener("click",f),function(){document.body.removeEventListener("click",f)}}),[t,c]),Object(m.jsxs)("div",{className:"select col-lg-12",ref:j,children:[Object(m.jsxs)("div",{onClick:function(){b(!u)},className:"label d-flex justify-content-between align-items-center",children:[Object(m.jsx)("b",{children:0!==n.length?"\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 (".concat(n.length,")"):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(m.jsx)("i",{className:u?"active":null,children:Object(m.jsx)(d.a,{className:!0})})]}),u&&Object(m.jsx)("div",{className:"sort",children:t&&t.map((function(e){return e.name?Object(m.jsx)("div",{className:O(e.id)?"item active":"item",onClick:O(e.id)?function(){return s(e.id,e.type)}:function(){return r(e.id,e.type)},children:Object(m.jsx)("b",{children:e.name})},e.id):null}))})]})})),O=c(32);t.default=function(){var e=Object(s.h)().type,t=Object(i.useState)(1),c=Object(a.a)(t,2),r=c[0],d=c[1],v=function(e){var t=Object(o.b)();return{data:Object(o.c)((function(t){return{items:t[e].category,catItems:t[e].category.activeItems,films:t[e].items,page:t[e].page,pages:t[e].pages,isFetching:t[e].isFetching}})),addCategory:Object(i.useCallback)((function(c){t("movie"===e?Object(l.e)(c):Object(u.e)(c))}),[t,e]),removeCategory:Object(i.useCallback)((function(c){t("movie"===e?Object(l.d)(c):Object(u.d)(c))}),[t,e]),getFilter:Object(i.useCallback)((function(){t("movie"===e?Object(l.c)(e):Object(u.c)(e))}),[t,e]),getItems:Object(i.useCallback)((function(c,n){t("movie"===e?Object(l.b)(c,n):Object(u.b)(c,n))}),[t,e])}}(e),h=v.data,g=v.addCategory,y=v.removeCategory,p=v.getFilter,x=v.getItems,C=Object(i.useCallback)((function(e){g(e),d(1)}),[g]),k=Object(i.useCallback)((function(e){y(e),d(1)}),[y]),N=Object(i.useCallback)((function(e){p(e)}),[p]);return Object(i.useEffect)((function(){x(h.catItems,r)}),[h.catItems,r,x]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"catalog mt-5",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row text-center justify-content-center",children:[Object(m.jsx)("h1",{children:"movie"===e?"\u0424\u0438\u043b\u044c\u043c\u044b":"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(m.jsx)("div",{className:"filter col-lg-10 d-lg-flex",children:Object(m.jsx)(f,Object(n.a)({sections:h.catItems,addSection:C,removeSection:k,getFilter:N},h.items))}),Object(m.jsx)("div",{className:"list-item col-lg-12",children:Object(m.jsx)("div",{className:"row",children:!1===h.isFetching?h.films.map((function(t){return Object(m.jsx)(j.a,Object(n.a)({type:e},t),t.id)})):Object(m.jsx)(O.b,{})})}),Object(m.jsx)(b.a,{page:r,pages:h.pages,onPageChanged:function(e){return d(e)}})]})})})})}}}]);
//# sourceMappingURL=7.e56634f4.chunk.js.map